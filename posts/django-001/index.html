<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.55.6" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>[Django系列] 一:环境配置 | 凡夫俗子的博客</title>
    <meta property="og:title" content="[Django系列] 一:环境配置 - 凡夫俗子的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content="2020-03-30T16:42:03&#43;08:00">
        
        
    <meta property="article:modified_time" content="2020-03-30T16:42:03&#43;08:00">
        
    <meta name="Keywords" content="[Beego]">
    <meta name="description" content="[Django系列] 一:环境配置">
        <meta name="author" content="Henry">
        
    <meta property="og:url" content="http://gitzh2017.github.io/posts/django-001/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="/css/normalize.css">
    
        <link rel="stylesheet" href="/css/prism.css">
    
    <link rel="stylesheet" href="/css/style.css">
    <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

    


    
    
</head>

<body>
<header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="http://gitzh2017.github.io/">
                        凡夫俗子的博客
                    </a>
                
                <p class="description">专注于Kubernetes、Python、Go语言(golang)、Linux、项目管理、软件架构</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="http://gitzh2017.github.io/">首页</a>
                    
                    <a  href="http://gitzh2017.github.io/archives/" title="归档">归档</a>
                    
                    <a  href="http://gitzh2017.github.io/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>


<div id="body">
    <div class="container">
        <div class="col-group">

            <div class="col-8" id="main">
                <div class="res-cons">
                    <article class="post">
                        <header>
                            <h1 class="post-title">[Django系列] 一:环境配置</h1>
                        </header>
                        <date class="post-meta meta-date">
                            2020年3月30日
                        </date>
                        
                        <div class="post-meta">
                            <span>|</span>
                            
                                <span class="meta-category"><a href="http://gitzh2017.github.io/categories/django">django</a></span>
                            
                        </div>
                        
                        
                        
                        <div class="post-content">
                            <p>本章节我们主要来了解一下Django是什么，Django的架构模式，Django的特性，还有我们会演示一下Django的简单操作，如何安装一个Django，如果用Django 创建一个web项目，Django的命令的基本操作，启动Django服务。</p>

<h1 id="django-概述">Django 概述</h1>

<h2 id="django-简介">Django 简介</h2>

<p><code>Django</code>是一个开放源代码的<code>Web应用程序</code>，由<code>Python编写</code>，最初用来管理<code>劳伦斯出版集团</code>旗下的一些以新闻内容为主的网站，即CMS(内容管理系统)软件，于<code>2005年7月在BSD许可下发布</code>，这套框架是以比利时的吉卜赛吉他手Django Reinhardt来命名的。Django采用了<code>MTV</code>的框架模式，即<code>模型（Model）</code>、<code>视图（Views）</code>和<code>模板（Template）</code>，三者之间各自负责不同的职责，关联起来组成一个web框架。</p>

<h2 id="django-架构模式">Django 架构模式</h2>

<p>上面也说来Django采用MTV模式，那么MTV模式由<code>模型（Model）</code>、<code>视图（Views）</code>和<code>模板（Template）</code>组成，各个组件分配负责什么任务呢，三个组件又是怎么分工合做的呢？在说MTV之前我们要先来讲下MVC，因为其他语言基本全栈框架都是叫MVC。</p>

<p><strong>MVC</strong>
MCV模式：MCV全名是<code>Model View Controller</code>，是<code>模型</code>-<code>视图</code>-<code>控制器</code>的缩写，一种软件设计模式，用一种业务逻辑、数据、界面显示分离的方式组织代码，将业务逻辑聚集到一个部件里面，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。</p>

<ul>
<li>Model（模型）：是应用程序中用于处理程序逻辑的部分，负责数据库中存储数据</li>
<li>View（视图）：是应用程序中处理数据显示的部分，通常视图是依据模型数据创建的</li>
<li>Controller（控制器）：是应用程序中处理用户交互的部分，通常控制器负责从视图读取数据，控制用户输入，并向模型发送数据</li>
</ul>

<p><strong>MTV</strong>
MTV模式：Django是一个<code>基于MVC</code>构造的框架。但是在Django中，控制器接受用户输入的部分由框架自行处理，所以 Django 里更关注的是<code>模型（Model）</code>、<code>模板(Template)</code>和<code>视图（Views）</code>，称为 MTV模式。本质与MVC模式没有区别，只是定义形式不同。</p>

<ul>
<li>Model（模型）：负责业务对象与数据库的对象（ORM）</li>
<li>Template（模板）：负责如何把页面展示给用户</li>
<li>View（视图）：负责业务逻辑，并在适当的时候调用Model和Template</li>
</ul>

<h2 id="django-特性">Django 特性</h2>

<ul>
<li>完善的官网文档，目前已有部分内容提供官方中文版。</li>
<li>强大的数据库操作，自带ORM操作，同样也支持原生SQL。</li>
<li>自带后台系统，通过几行简单代码既可完成后台系统的搭建。</li>
<li>优雅的URL映射，通过正则表达式管理URL，方便扩展。</li>
<li>完整的错误提示，使开发者能够快速定位BUG的位置。</li>
<li>缓存框架，并提供多种缓存方式。</li>
<li>中间件，允许对请求处理的各个阶段进行干涉。</li>
</ul>

<h1 id="django-安装">Django 安装</h1>

<pre><code class="language-bash">$ pip install django  # 安装最新版本Django
$ pip install django==2.1  # 安装指定2.1版本Django
</code></pre>

<p><strong>查看Django版本</strong>: Django安装成功后，可以在系统命令行模式中运行Python，导入Django，检查版本情况。</p>

<pre><code class="language-bash">&gt;&gt;&gt; import django
&gt;&gt;&gt; django.get_version()
'2.1'
</code></pre>

<p>或者在命令行模式下，使用<code>python -m django --version</code>查看当前Django版本。</p>

<h1 id="django-项目创建">Django 项目创建</h1>

<h2 id="命令行创建django-项目">命令行创建Django 项目</h2>

<p>Django提供了一个创建项目并初始化其中目录结构及文件的命令，我们可以通过以下命令在命令行模式下新建我们的Django项目。</p>

<pre><code class="language-bash">$ django-admin startproject mysite  # 此时会创建一个以mysite命名的Django项目
</code></pre>

<h2 id="通过pycharm创建django项目">通过Pycharm创建Django项目</h2>

<p>打开<code>Pycharm</code>，点击<code>file ===&gt; New Project</code>，选择<code>Django</code>。</p>

<p><img src="/images/image-20200329201010711.png" alt="new django"></p>

<h1 id="django-目录结构">Django 目录结构</h1>

<p>以下是我们刚刚创建的一个简单的Django项目的目录结构。</p>

<pre><code class="language-bash">mysite/
  manage.py
  mysite/
    __init__.py
    settings.py
    urls.py
    wsgi.py
  (template/)  # 命令行创建，需手动添加。Pycharm创建项目，更多设置是用默认实质话将自动创建此文件。
</code></pre>

<ul>
<li><code>manage.py</code>：一个命令行工具，可以通过这个文件管理我们创建的Django项目。</li>
<li><code>mysite</code>：这是我们创建的项目目录，由<code>__init__.py</code>, <code>settings.py</code>, <code>urls.py</code>, <code>wsgi.py</code>文件组成。
&ndash; <code>__init__.py</code>：空文件，用于告诉Python将mysite当做一个包。
&ndash; <code>settings.py</code>：项目的设置文件，包含一些初始化设置。
&ndash; <code>urls.py</code>：URL patterns所在的文件位置，其中每行URL都表示这URL地址与视图的一对一的映射关系。
&ndash; <code>wsgi.py</code>：这是自动生成的当前项目的WSGI程序，用于将项目作为一个WSGI程序启动。</li>
<li><code>template</code>：用于存放模板文件的文件目录。</li>
</ul>

<h1 id="django-基本命令">Django 基本命令</h1>

<ol>
<li>创建一个Django项目</li>
</ol>

<pre><code class="language-python">   django-admin startproject projectname
</code></pre>

<ol>
<li>新建一个app</li>
</ol>

<pre><code class="language-python">   python manage.py startapp appname
   django-admin startapp appname
</code></pre>

<ol>
<li>创建数据库或更新数据库</li>
</ol>

<pre><code class="language-python">   python manage.py makemigrations  # 创建更改文件
   python manage.py migrate  # 将生成的py文件同步至数据库
</code></pre>

<ol>
<li>清空数据库</li>
</ol>

<pre><code class="language-python">   python manage.py flush
</code></pre>

<ol>
<li>启使用开发服务器</li>
</ol>

<pre><code class="language-python">   python manage.py runserver  # 默认情况下，可以通过127.0.0.1:8000或localhost:8000访问
   python manage.py runserver 8080  # 使用指定的8080端口访问
   python manage.py runserver 0.0.0.0:8080  # 使用当前ip加端口号访问
</code></pre>

<ol>
<li>创建超级用户</li>
</ol>

<pre><code class="language-python">   python manage.py createsuperuser
</code></pre>

<ol>
<li>数据的导入、导出</li>
</ol>

<pre><code class="language-python">   python manage.py dumpdata appname &gt; appname.json
   python manage.py loaddata appname.json
</code></pre>

<ol>
<li>Django项目环境中断</li>
</ol>

<pre><code class="language-python">   python manage.py shell
</code></pre>

<ol>
<li>数据库命令行</li>
</ol>

<pre><code class="language-python">   python manage.py dbshell
</code></pre>

<h1 id="django-项目启动">Django 项目启动</h1>

<p>上面的基础命令已经说了启动Django的命令，我们这里直接在终端输入<code>python manage.py runserver</code>;</p>

<pre><code class="language-bash">$ python manage.py runserver
Performing system checks...

System check identified no issues (0 silenced).

You have 15 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.

March 29, 2020 - 12:37:40
Django version 2.1.3, using settings 'django_project.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
</code></pre>

<p>然后在浏览器中打开<a href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a> 地址看下</p>

<p><img src="/images/image-20200329204017018.png" alt="open django web"></p>
                        </div>

                        


                        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/beego-001/">Beego系列-Beego快速入门</a></li>
        
        <li><a href="/posts/python-004/">Python基础-Python 函数</a></li>
        
        <li><a href="/posts/python-003/">Python 003</a></li>
        
        <li><a href="/posts/python-002/">Python基础-Python 基础知识</a></li>
        
        <li><a href="/posts/python-001/">Python基础-Python 简介入门</a></li>
        
    </ul>
</div>


                        <div class="post-meta meta-tags">
                            
                            <ul class="clearfix">
                                
                                <li><a href="http://gitzh2017.github.io/tags/django">django</a></li>
                                
                                <li><a href="http://gitzh2017.github.io/tags/python">python</a></li>
                                
                            </ul>
                            
                        </div>
                    </article>
                    
    

    
    
                </div>
            </div>
            <div id="secondary">
    <section class="widget">
        <form id="search" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="http://gitzh2017.github.io/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="http://gitzh2017.github.io/posts/django-003/" title="[Django系列] 三:URL">[Django系列] 三:URL</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/django-002/" title="[Django系列] 二:基本配置信息">[Django系列] 二:基本配置信息</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/django-001/" title="[Django系列] 一:环境配置">[Django系列] 一:环境配置</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/java-springboot-001/" title="Java SpringBoot 001">Java SpringBoot 001</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/java-003/" title="Java 003">Java 003</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/java-004/" title="【Java系列】:Java 流程控制">【Java系列】:Java 流程控制</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/java-002/" title="Java 002">Java 002</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/java-001/" title="Java 001">Java 001</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/python-004/" title="Python基础-Python 函数">Python基础-Python 函数</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/python-003/" title="Python 003">Python 003</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">分类</h3>
<ul class="widget-list">
    
    <li>
        <a href="http://gitzh2017.github.io/categories/ansible/">ansible(4)</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/categories/beego/">beego(1)</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/categories/django/">django(3)</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/categories/java/">java(5)</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/categories/python/">python(4)</a>
    </li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title">标签</h3>
<div class="tagcloud">
    
    <a href="http://gitzh2017.github.io/tags/ansible/">ansible</a>
    
    <a href="http://gitzh2017.github.io/tags/beego/">beego</a>
    
    <a href="http://gitzh2017.github.io/tags/django/">django</a>
    
    <a href="http://gitzh2017.github.io/tags/golang/">golang</a>
    
    <a href="http://gitzh2017.github.io/tags/java/">java</a>
    
    <a href="http://gitzh2017.github.io/tags/linux/">linux</a>
    
    <a href="http://gitzh2017.github.io/tags/pip/">pip</a>
    
    <a href="http://gitzh2017.github.io/tags/python/">python</a>
    
    <a href="http://gitzh2017.github.io/tags/spring-boot/">spring-boot</a>
    
    <a href="http://gitzh2017.github.io/tags/%E5%87%BD%E6%95%B0/">函数</a>
    
    <a href="http://gitzh2017.github.io/tags/%E7%BC%96%E7%A8%8B/">编程</a>
    
    <a href="http://gitzh2017.github.io/tags/%E8%BF%90%E7%AE%97%E7%AC%A6/">运算符</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="http://gitzh2017.github.io/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
        </div>
    </div>
</div>
<footer id="footer">
    <div class="container">
        &copy; 2020 <a href="http://gitzh2017.github.io/">凡夫俗子的博客 By 凡夫俗子</a>.
        Powered by <a rel="nofollow noreferer noopener" href="https://gohugo.io" target="_blank">Hugo</a>.
        <a href="https://www.flysnow.org/" target="_blank">Theme</a> based on <a href="https://github.com/rujews/maupassant-hugo" target="_blank">maupassant</a>.
        
    </div>
</footer>


    <script type="text/javascript">
    
    (function(){
        $("pre code").parent().addClass("line-numbers")
    }())

    window.MathJax = {
        tex2jax: {
            inlineMath: [ ['$','$'] ],
            processEscapes: true
        }
    };
    </script>
    <script type="text/javascript" src="/js/prism.js" async="true"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src="/js/totop.js?v=0.0.0" async=""></script>






</body>
</html>
