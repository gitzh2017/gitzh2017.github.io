<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.55.6" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>[Golang系列]-Go基础语法之流程控制 | 凡夫俗子的博客</title>
    <meta property="og:title" content="[Golang系列]-Go基础语法之流程控制 - 凡夫俗子的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content="2019-06-28T01:14:10&#43;08:00">
        
        
    <meta property="article:modified_time" content="2019-06-28T01:14:10&#43;08:00">
        
    <meta name="Keywords" content="golang,go语言,go语言笔记,kubernetes,项目管理,python">
    <meta name="description" content="[Golang系列]-Go基础语法之流程控制">
        
    <meta name="author" content="凡夫俗子">
    <meta property="og:url" content="http://gitzh2017.github.io/posts/06-golang/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="/css/normalize.css">
    
        <link rel="stylesheet" href="/css/prism.css">
    
    <link rel="stylesheet" href="/css/style.css">
    <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

    


    
    
</head>

<body>
<header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="http://gitzh2017.github.io/">
                        凡夫俗子的博客
                    </a>
                
                <p class="description">专注于Kubernetes、Python、Go语言(golang)、Linux、项目管理、软件架构</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="http://gitzh2017.github.io/">首页</a>
                    
                    <a  href="http://gitzh2017.github.io/archives/" title="归档">归档</a>
                    
                    <a  href="http://gitzh2017.github.io/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>


<div id="body">
    <div class="container">
        <div class="col-group">

            <div class="col-8" id="main">
                <div class="res-cons">
                    <article class="post">
                        <header>
                            <h1 class="post-title">[Golang系列]-Go基础语法之流程控制</h1>
                        </header>
                        <date class="post-meta meta-date">
                            2019年6月28日
                        </date>
                        
                        
                        
                        <div class="clear">
                            <div class="toc-article">
                                <div class="toc-title">文章目录</div>
                                <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#if-else-分支结构">if else(分支结构)</a>
<ul>
<li><a href="#if条件判断基本写法">if条件判断基本写法</a></li>
<li><a href="#if条件判断特殊写法">if条件判断特殊写法</a></li>
</ul></li>
<li><a href="#for-循环结构">for(循环结构)</a>
<ul>
<li><a href="#无限循环">无限循环</a></li>
</ul></li>
<li><a href="#for-range-键值循环">for range(键值循环)</a></li>
<li><a href="#switch-case">switch case</a></li>
<li><a href="#goto-跳转到指定标签">goto(跳转到指定标签)</a></li>
<li><a href="#break-跳出循环">break(跳出循环)</a></li>
<li><a href="#continue-继续下次循环">continue(继续下次循环)</a></li>
</ul></li>
</ul>
</nav>
                            </div>
                        </div>
                        
                        <div class="post-content">
                            <p>流程控制是每种编程语言控制逻辑走向和执行次序的重要部分，流程控制可以说是一门语言的“经脉”。</p>

<p>Go语言中最常用的流程控制有<code>if</code>和<code>for</code>，而<code>switch</code>和<code>goto</code>主要是为了简化代码、降低重复代码而生的结构，属于扩展类的流程控制。</p>

<h2 id="if-else-分支结构">if else(分支结构)</h2>

<h3 id="if条件判断基本写法">if条件判断基本写法</h3>

<p>Go语言中<code>if</code>条件判断的格式如下：</p>

<pre><code class="language-go">if 表达式1 {
    分支1
} else if 表达式2 {
    分支2
} else{
    分支3
}
</code></pre>

<p>当表达式1的结果为<code>true</code>时，执行分支1，否则判断表达式2，如果满足则执行分支2，都不满足时，则执行分支3。 if判断中的<code>else if</code>和<code>else</code>都是可选的，可以根据实际需要进行选择。</p>

<p>Go语言规定与<code>if</code>匹配的左括号<code>{</code>必须与<code>if和表达式</code>放在同一行，<code>{</code>放在其他位置会触发编译错误。 同理，与<code>else</code>匹配的<code>{</code>也必须与<code>else</code>写在同一行，<code>else</code>也必须与上一个<code>if</code>或<code>else if</code>右边的大括号在同一行。</p>

<p>举个例子：</p>

<pre><code class="language-go">func ifDemo1() {
	score := 65
	if score &gt;= 90 {
		fmt.Println(&quot;A&quot;)
	} else if score &gt; 75 {
		fmt.Println(&quot;B&quot;)
	} else {
		fmt.Println(&quot;C&quot;)
	}
}
</code></pre>

<h3 id="if条件判断特殊写法">if条件判断特殊写法</h3>

<p>if条件判断还有一种特殊的写法，可以在 if 表达式之前添加一个执行语句，再根据变量值进行判断，举个例子：</p>

<pre><code class="language-go">func ifDemo2() {
	if score := 65; score &gt;= 90 {
		fmt.Println(&quot;A&quot;)
	} else if score &gt; 75 {
		fmt.Println(&quot;B&quot;)
	} else {
		fmt.Println(&quot;C&quot;)
	}
}
</code></pre>

<p><strong>思考题：</strong> 上下两种写法的区别在哪里？</p>

<h2 id="for-循环结构">for(循环结构)</h2>

<p>Go 语言中的所有循环类型均可以使用<code>for</code>关键字来完成。</p>

<p>for循环的基本格式如下：</p>

<pre><code class="language-bash">for 初始语句;条件表达式;结束语句{
    循环体语句
}
</code></pre>

<p>条件表达式返回<code>true</code>时循环体不停地进行循环，直到条件表达式返回<code>false</code>时自动退出循环。</p>

<pre><code class="language-go">func forDemo() {
	for i := 0; i &lt; 10; i++ {
		fmt.Println(i)
	}
}
</code></pre>

<p>for循环的初始语句可以被忽略，但是初始语句后的分号必须要写，例如：</p>

<pre><code class="language-go">func forDemo2() {
	i := 0
	for ; i &lt; 10; i++ {
		fmt.Println(i)
	}
}
</code></pre>

<p>for循环的初始语句和结束语句都可以省略，例如：</p>

<pre><code class="language-go">func forDemo3() {
	i := 0
	for i &lt; 10 {
		fmt.Println(i)
		i++
	}
}
</code></pre>

<p>这种写法类似于其他编程语言中的<code>while</code>，在<code>while</code>后添加一个条件表达式，满足条件表达式时持续循环，否则结束循环。</p>

<h3 id="无限循环">无限循环</h3>

<pre><code class="language-go">for {
    循环体语句
}
</code></pre>

<p>for循环可以通过<code>break</code>、<code>goto</code>、<code>return</code>、<code>panic</code>语句强制退出循环。</p>

<h2 id="for-range-键值循环">for range(键值循环)</h2>

<p>Go语言中可以使用<code>for range</code>遍历数组、切片、字符串、map 及通道（channel）。 通过<code>for range</code>遍历的返回值有以下规律：</p>

<ol>
<li>数组、切片、字符串返回索引和值。</li>
<li>map返回键和值。</li>
<li>通道（channel）只返回通道内的值。</li>
</ol>

<h2 id="switch-case">switch case</h2>

<p>使用<code>switch</code>语句可方便地对大量的值进行条件判断。</p>

<pre><code class="language-go">func switchDemo1() {
	finger := 3
	switch finger {
	case 1:
		fmt.Println(&quot;大拇指&quot;)
	case 2:
		fmt.Println(&quot;食指&quot;)
	case 3:
		fmt.Println(&quot;中指&quot;)
	case 4:
		fmt.Println(&quot;无名指&quot;)
	case 5:
		fmt.Println(&quot;小拇指&quot;)
	default:
		fmt.Println(&quot;无效的输入！&quot;)
	}
}
</code></pre>

<p>Go语言规定每个<code>switch</code>只能有一个<code>default</code>分支。</p>

<p>一个分支可以有多个值，多个case值中间使用英文逗号分隔。</p>

<pre><code class="language-go">func testSwitch3() {
	switch n := 7; n {
	case 1, 3, 5, 7, 9:
		fmt.Println(&quot;奇数&quot;)
	case 2, 4, 6, 8:
		fmt.Println(&quot;偶数&quot;)
	default:
		fmt.Println(n)
	}
}
</code></pre>

<p>分支还可以使用表达式，这时候switch语句后面不需要再跟判断变量。例如：</p>

<pre><code class="language-go">func switchDemo4() {
	age := 30
	switch {
	case age &lt; 25:
		fmt.Println(&quot;好好学习吧&quot;)
	case age &gt; 25 &amp;&amp; age &lt; 35:
		fmt.Println(&quot;好好工作吧&quot;)
	case age &gt; 60:
		fmt.Println(&quot;好好享受吧&quot;)
	default:
		fmt.Println(&quot;活着真好&quot;)
	}
}
</code></pre>

<p><code>fallthrough</code>语法可以执行满足条件的case的下一个case，是为了兼容C语言中的case设计的。</p>

<pre><code class="language-go">func switchDemo5() {
	s := &quot;a&quot;
	switch {
	case s == &quot;a&quot;:
		fmt.Println(&quot;a&quot;)
		fallthrough
	case s == &quot;b&quot;:
		fmt.Println(&quot;b&quot;)
	case s == &quot;c&quot;:
		fmt.Println(&quot;c&quot;)
	default:
		fmt.Println(&quot;...&quot;)
	}
}
</code></pre>

<p>输出：</p>

<pre><code class="language-bash">a
b
</code></pre>

<h2 id="goto-跳转到指定标签">goto(跳转到指定标签)</h2>

<p><code>goto</code>语句通过标签进行代码间的无条件跳转。<code>goto</code>语句可以在快速跳出循环、避免重复退出上有一定的帮助。Go语言中使用<code>goto</code>语句能简化一些代码的实现过程。 例如双层嵌套的for循环要退出时：</p>

<pre><code class="language-go">func gotoDemo1() {
	var breakFlag bool
	for i := 0; i &lt; 10; i++ {
		for j := 0; j &lt; 10; j++ {
			if j == 2 {
				// 设置退出标签
				breakFlag = true
				break
			}
			fmt.Printf(&quot;%v-%v\n&quot;, i, j)
		}
		// 外层for循环判断
		if breakFlag {
			break
		}
	}
}
</code></pre>

<p>使用<code>goto</code>语句能简化代码：</p>

<pre><code class="language-go">func gotoDemo2() {
	for i := 0; i &lt; 10; i++ {
		for j := 0; j &lt; 10; j++ {
			if j == 2 {
				// 设置退出标签
				goto breakTag
			}
			fmt.Printf(&quot;%v-%v\n&quot;, i, j)
		}
	}
	return
	// 标签
breakTag:
	fmt.Println(&quot;结束for循环&quot;)
}
</code></pre>

<h2 id="break-跳出循环">break(跳出循环)</h2>

<p><code>break</code>语句可以结束<code>for</code>、<code>switch</code>和<code>select</code>的代码块。</p>

<p><code>break</code>语句还可以在语句后面添加标签，表示退出某个标签对应的代码块，标签要求必须定义在对应的<code>for</code>、<code>switch</code>和 <code>select</code>的代码块上。 举个例子：</p>

<pre><code class="language-go">func breakDemo1() {
BREAKDEMO1:
	for i := 0; i &lt; 10; i++ {
		for j := 0; j &lt; 10; j++ {
			if j == 2 {
				break BREAKDEMO1
			}
			fmt.Printf(&quot;%v-%v\n&quot;, i, j)
		}
	}
	fmt.Println(&quot;...&quot;)
}
</code></pre>

<h2 id="continue-继续下次循环">continue(继续下次循环)</h2>

<p><code>continue</code>语句可以结束当前循环，开始下一次的循环迭代过程，仅限在<code>for</code>循环内使用。</p>

<p>在 <code>continue</code>语句后添加标签时，表示开始标签对应的循环。例如：</p>

<pre><code class="language-go">func continueDemo() {
forloop1:
	for i := 0; i &lt; 5; i++ {
		// forloop2:
		for j := 0; j &lt; 5; j++ {
			if i == 2 &amp;&amp; j == 2 {
				continue forloop1
			}
			fmt.Printf(&quot;%v-%v\n&quot;, i, j)
		}
	}
}
</code></pre>
                        </div>

                        


                        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/05-golang/">[Golang系列]-Go基础语法之运算符</a></li>
        
        <li><a href="/posts/04-golang/">[Golang系列]-Go基础语法之基础数据类型</a></li>
        
        <li><a href="/posts/03-golang/">[Golang系列]-Go基础语法之变量与常量</a></li>
        
        <li><a href="/posts/02-golang/">[Golang系列]-Go开发环境 VS Code</a></li>
        
        <li><a href="/posts/01-golang/">[Golang系列]-Go环境安装</a></li>
        
    </ul>
</div>


                        <div class="post-meta meta-tags">
                            
                            没有标签
                            
                        </div>
                    </article>
                    
    

    
    
                </div>
            </div>
            <div id="secondary">
    <section class="widget">
        <form id="search" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="http://gitzh2017.github.io/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="http://gitzh2017.github.io/posts/12-golang/" title="[Golang系列]-Go基础语法之错误处理">[Golang系列]-Go基础语法之错误处理</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/11-golang/" title="[Golang系列]-Go基础语法之指针">[Golang系列]-Go基础语法之指针</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/10-golang/" title="[Golang系列]-Go基础语法之map">[Golang系列]-Go基础语法之map</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/09-golang/" title="[Golang系列]-Go基础语法之切片">[Golang系列]-Go基础语法之切片</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/08-golang/" title="[Golang系列]-Go基础语法之数组">[Golang系列]-Go基础语法之数组</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/07-golang/" title="[Golang系列]-Go基础语法之函数">[Golang系列]-Go基础语法之函数</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/06-golang/" title="[Golang系列]-Go基础语法之流程控制">[Golang系列]-Go基础语法之流程控制</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/05-golang/" title="[Golang系列]-Go基础语法之运算符">[Golang系列]-Go基础语法之运算符</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/04-golang/" title="[Golang系列]-Go基础语法之基础数据类型">[Golang系列]-Go基础语法之基础数据类型</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/03-golang/" title="[Golang系列]-Go基础语法之变量与常量">[Golang系列]-Go基础语法之变量与常量</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">分类</h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title">标签</h3>
<div class="tagcloud">
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="http://gitzh2017.github.io/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
        </div>
    </div>
</div>
<footer id="footer">
    <div class="container">
        &copy; 2019 <a href="http://gitzh2017.github.io/">凡夫俗子的博客 By 凡夫俗子</a>.
        Powered by <a rel="nofollow noreferer noopener" href="https://gohugo.io" target="_blank">Hugo</a>.
        <a href="https://www.flysnow.org/" target="_blank">Theme</a> based on <a href="https://github.com/rujews/maupassant-hugo" target="_blank">maupassant</a>.
        
    </div>
</footer>


    <script type="text/javascript">
    
    (function(){
        $("pre code").parent().addClass("line-numbers")
    }())

    window.MathJax = {
        tex2jax: {
            inlineMath: [ ['$','$'] ],
            processEscapes: true
        }
    };
    </script>
    <script type="text/javascript" src="/js/prism.js" async="true"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src="/js/totop.js?v=0.0.0" async=""></script>






</body>
</html>
