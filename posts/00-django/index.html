<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.55.6" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>00 Django | 凡夫俗子的博客</title>
    <meta property="og:title" content="00 Django - 凡夫俗子的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content="2019-07-10T21:35:09&#43;08:00">
        
        
    <meta property="article:modified_time" content="2019-07-10T21:35:09&#43;08:00">
        
    <meta name="Keywords" content="golang,go语言,go语言笔记,kubernetes,项目管理,python">
    <meta name="description" content="00 Django">
        
    <meta name="author" content="凡夫俗子">
    <meta property="og:url" content="http://gitzh2017.github.io/posts/00-django/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="/css/normalize.css">
    
        <link rel="stylesheet" href="/css/prism.css">
    
    <link rel="stylesheet" href="/css/style.css">
    <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

    


    
    
</head>

<body>
<header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="http://gitzh2017.github.io/">
                        凡夫俗子的博客
                    </a>
                
                <p class="description">专注于Kubernetes、Python、Go语言(golang)、Linux、项目管理、软件架构</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="http://gitzh2017.github.io/">首页</a>
                    
                    <a  href="http://gitzh2017.github.io/archives/" title="归档">归档</a>
                    
                    <a  href="http://gitzh2017.github.io/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>


<div id="body">
    <div class="container">
        <div class="col-group">

            <div class="col-8" id="main">
                <div class="res-cons">
                    <article class="post">
                        <header>
                            <h1 class="post-title">00 Django</h1>
                        </header>
                        <date class="post-meta meta-date">
                            2019年7月10日
                        </date>
                        
                        
                        
                        <div class="clear">
                            <div class="toc-article">
                                <div class="toc-title">文章目录</div>
                                <nav id="TableOfContents">
<ul>
<li><a href="#mvc-框架介绍">MVC 框架介绍</a></li>
<li><a href="#mvt-框架介绍">MVT 框架介绍</a></li>
<li><a href="#django-介绍">Django 介绍</a>
<ul>
<li><a href="#安装django">安装Django</a></li>
<li><a href="#创建django项目">创建Django项目</a></li>
<li><a href="#运行django项目">运行Django项目</a></li>
<li><a href="#django初始化">Django初始化</a>
<ul>
<li><a href="#配置模板文件">配置模板文件</a></li>
<li><a href="#配置静态文件路径">配置静态文件路径</a></li>
<li><a href="#禁用csrf中间件-仅测试时使用">禁用csrf中间件（仅测试时使用）</a></li>
<li><a href="#添加web三件套-urls-py">添加web三件套(urls.py)</a></li>
</ul></li>
<li><a href="#django-创建app">Django 创建APP</a></li>
</ul></li>
</ul>
</nav>
                            </div>
                        </div>
                        
                        <div class="post-content">
                            <p>我们都知道，Django是一种基于Python的Web开发框架。</p>

<h1 id="mvc-框架介绍">MVC 框架介绍</h1>

<p><code>MVC</code>全名是<code>Model View Controller</code>，是软件工程中的一种软件架构模式。把软件系统分为三个基本部分：<code>模型(Model)</code>、<code>视图(View)</code>和控制器<code>(Controller)</code>，具有耦合性低、重用性高、生命周期成本低等优点。
<img src="/images/00Django/django框架01.png" alt="install_go" /></p>

<h1 id="mvt-框架介绍">MVT 框架介绍</h1>

<p>Django框架的设计模式借鉴了MVC框架的思想，也是分成三部分来降低各个部分之间的耦合性。Django框架的不同之处在于它拆分的三部分为：<code>Model（模型）</code>、<code>Template（模板）</code>和<code>View（视图</code>），也就是<code>MTV</code>框架。
- Model(模型)：负责业务对象与数据库的对象(ORM)
- Template(模版)：负责如何把页面展示给用户
- View(视图)：负责业务逻辑，并在适当的时候调用Model和Template</p>

<p>此外Django还有一个<code>urls</code>分发器，它的作用是将一个个URL的页面请求分发给不同的view处理，view再调用相应的Model和Template
<img src="/images/00Django/django框架02.png" alt="install_go" /></p>

<h1 id="django-介绍">Django 介绍</h1>

<p>Django是一个由Python编写的具有完整架站能力的开源Web框架。使用Django，只要很少的代码，Python的程序开发人员就可以轻松地完成一个正式网站所需要的大部分内容，并进一步开发出全功能的Web服务。</p>

<p>Django本身基于MVC模型，即Model（模型）+View（视图）+ Controller（控制器）设计模式，因此天然具有MVC的出色基因：开发快捷、部署方便、可重用性高、维护成本低等。Python加Django是快速开发、设计、部署网站的最佳组合。</p>

<p>Django诞生于2003年，2006年加入了BSD许可证，成为开源的Web框架。Django这一词语是根据比利时的爵士音乐家Django Reinhardt命名的，有希望Django能够优雅地演奏（开发）各种乐曲（Web应用）的美好含义。</p>

<p>Django是由美国堪萨斯（Kansas）州Lawrence城中的一个新闻开发小组开发出来的。当时Lawrence Journal-World报纸的程序员Adrian Holovaty和Simon Willison用 Python 编写Web新闻应用，他们的 World Online小组制作并维护了当地的几个新闻站点。新闻界独有的特点是快速迭代，从开发到上线，通常只有几天或几个小时的时间。为了能在截止时间前完成工作，Adrian和Simon打算开发一种通用的高效的网络应用开发框架，也就是Django。</p>

<p>2005年的夏天，当这个框架开发完成时，它已经用来制作了很多个World Online的站点。不久，小组中的Jacob Kaplan-Moss决定把这个框架发布为一个开源软件，于是短短数年，Django项目就有着数以万计的用户和贡献者，在世界范围内广泛传播。 原来的World Online的两个开发者（Adrian and Jacob）仍然掌握着Django，但是其发展方向受社区团队的影响更大。</p>

<h2 id="安装django">安装Django</h2>

<pre><code class="language-bash">pip3 install django==1.11.9
</code></pre>

<h2 id="创建django项目">创建Django项目</h2>

<pre><code class="language-bash">django-admin startproject mysite
</code></pre>

<p>目录结构介绍</p>

<pre><code class="language-bash">mysite/
├── manage.py        # 管理文件
└── mysite           # 项目目录
    ├── __init__.py
    ├── settings.py  # 配置
    ├── urls.py      # 路由：URL和函数的对应关系
    └── wsgi.py      # runserver命令就使用wsgiref模块做简单的web server
</code></pre>

<h2 id="运行django项目">运行Django项目</h2>

<pre><code class="language-bash">python manage.py runserver 127.0.0.1:8000
</code></pre>

<h2 id="django初始化">Django初始化</h2>

<h3 id="配置模板文件">配置模板文件</h3>

<pre><code class="language-python">TEMPLATES = [   # 所有跟html相关的设置都放在这里
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [os.path.join(BASE_DIR, 'templates')]   # 模板文件夹位置，此处使用默认位置
        ,
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]
</code></pre>

<h3 id="配置静态文件路径">配置静态文件路径</h3>

<pre><code class="language-python">STATIC_URL = '/static/'                 # 静态文件保存目录的别名，名字可以自定义
STATICFILES_DIRS = [
    os.path.join(BASE_DIR, &quot;static&quot;),  # 静态文件(css/js/图片)存放位置
]
</code></pre>

<p>静态文件查找原理
<img src="/images/00Django/django框架11.png" alt="install_go" /></p>

<h3 id="禁用csrf中间件-仅测试时使用">禁用csrf中间件（仅测试时使用）</h3>

<pre><code class="language-python">MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    # 'django.middleware.csrf.CsrfViewMiddleware', # 注释此行
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]
</code></pre>

<h3 id="添加web三件套-urls-py">添加web三件套(urls.py)</h3>

<pre><code class="language-python">&quot;&quot;&quot;Django_V1 URL Configuration

The `urlpatterns` list routes URLs to views. For more information please see:
    https://docs.djangoproject.com/en/2.1/topics/http/urls/
Examples:
Function views
    1. Add an import:  from my_app import views
    2. Add a URL to urlpatterns:  path('', views.home, name='home')
Class-based views
    1. Add an import:  from other_app.views import Home
    2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
Including another URLconf
    1. Import the include() function: from django.urls import include, path
    2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
&quot;&quot;&quot;
from django.contrib import admin
from django.urls import path
from django.shortcuts import HttpResponse,render,redirect

urlpatterns = [
    path('admin/', admin.site.urls),
]
</code></pre>

<p><strong>HttpResponse</strong>:内部传入一个字符串参数，返回给浏览器。</p>

<pre><code class="language-python">def index(request):
    # 业务逻辑代码
    return HttpResponse(&quot;OK&quot;)
</code></pre>

<p><strong>render</strong>:除request参数外还接受一个待渲染的模板文件和一个保存具体数据的字典参数，将数据填充进模板文件，最后把结果返回给浏览器。</p>

<pre><code class="language-python">def index(request):
    # 业务逻辑代码
    return render(request, &quot;index.html&quot;, {&quot;name&quot;: &quot;alex&quot;, &quot;hobby&quot;: [&quot;篮球&quot;, &quot;足球&quot;]})
</code></pre>

<p><strong>redirect</strong>:接受一个URL参数，表示跳转到指定的URL。</p>

<pre><code class="language-python">def index(request):
    # 业务逻辑代码
    return redirect(&quot;/admin/&quot;)
</code></pre>

<h2 id="django-创建app">Django 创建APP</h2>

<p>一个Django项目可以分为很多个APP用来隔离不同功能模块的代码。</p>

<pre><code class="language-python">python manage.py startapp app02
</code></pre>
                        </div>

                        


                        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/02-elasticsearch/">02 Elasticsearch</a></li>
        
        <li><a href="/01-elasticsearch/">[Elasticsearch系列]-Elasticsearch Operator快速部署Elasticsearch集群</a></li>
        
        <li><a href="/00-elasticsearch/">[Elasticsearch系列]-概述</a></li>
        
        <li><a href="/posts/11-golang/">[Golang系列]-Go基础语法之指针</a></li>
        
        <li><a href="/posts/10-golang/">[Golang系列]-Go基础语法之map</a></li>
        
    </ul>
</div>


                        <div class="post-meta meta-tags">
                            
                            没有标签
                            
                        </div>
                    </article>
                    
    

    
    
                </div>
            </div>
            <div id="secondary">
    <section class="widget">
        <form id="search" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="http://gitzh2017.github.io/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="http://gitzh2017.github.io/posts/12-golang/" title="[Golang系列]-Go基础语法之错误处理">[Golang系列]-Go基础语法之错误处理</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/00-django/" title="00 Django">00 Django</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/11-golang/" title="[Golang系列]-Go基础语法之指针">[Golang系列]-Go基础语法之指针</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/10-golang/" title="[Golang系列]-Go基础语法之map">[Golang系列]-Go基础语法之map</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/09-golang/" title="[Golang系列]-Go基础语法之切片">[Golang系列]-Go基础语法之切片</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/08-golang/" title="[Golang系列]-Go基础语法之数组">[Golang系列]-Go基础语法之数组</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/07-golang/" title="[Golang系列]-Go基础语法之函数">[Golang系列]-Go基础语法之函数</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/06-golang/" title="[Golang系列]-Go基础语法之流程控制">[Golang系列]-Go基础语法之流程控制</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/05-golang/" title="[Golang系列]-Go基础语法之运算符">[Golang系列]-Go基础语法之运算符</a>
    </li>
    
    <li>
        <a href="http://gitzh2017.github.io/posts/04-golang/" title="[Golang系列]-Go基础语法之基础数据类型">[Golang系列]-Go基础语法之基础数据类型</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">分类</h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title">标签</h3>
<div class="tagcloud">
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="http://gitzh2017.github.io/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
        </div>
    </div>
</div>
<footer id="footer">
    <div class="container">
        &copy; 2019 <a href="http://gitzh2017.github.io/">凡夫俗子的博客 By 凡夫俗子</a>.
        Powered by <a rel="nofollow noreferer noopener" href="https://gohugo.io" target="_blank">Hugo</a>.
        <a href="https://www.flysnow.org/" target="_blank">Theme</a> based on <a href="https://github.com/rujews/maupassant-hugo" target="_blank">maupassant</a>.
        
    </div>
</footer>


    <script type="text/javascript">
    
    (function(){
        $("pre code").parent().addClass("line-numbers")
    }())

    window.MathJax = {
        tex2jax: {
            inlineMath: [ ['$','$'] ],
            processEscapes: true
        }
    };
    </script>
    <script type="text/javascript" src="/js/prism.js" async="true"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src="/js/totop.js?v=0.0.0" async=""></script>






</body>
</html>
